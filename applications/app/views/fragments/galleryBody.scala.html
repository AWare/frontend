@(gallery: model.Gallery, related: model.RelatedContent, index: Int)(implicit request: RequestHeader)
<div class="l-side-margins l-side-margins--layout-content">
    <article class="content content--media content--gallery tone-@gallery.visualTone"
        itemprop="mainContentOfPage" itemscope itemtype="@gallery.schemaType" role="main">

        @fragments.headDefault(gallery)

        <div class="gs-container">
            <div class="content__main-column content__main-column--gallery">

                @fragments.standfirst(gallery)

                @fragments.contentMeta(gallery)

                <div class="gallery2">
                    @gallery.largestCrops.zipWithRowInfo.map{ case(image, row) =>
                        <figure class="gallery2__item">
                            <a class="gallery2__img-container js-gallerythumbs" href="@LinkTo{@gallery.url?index=@{image.index+1}}">
                                <img class="gallery2__img @if(image.width >= image.height){gallery2__img--landscape} else {gallery2__img--portrait}"
                                    src="@image.path"
                                    alt="@image.altText.getOrElse("")" />
                                <span class="gallery2__fullscreen">
                                    <i class="i i-expand-white"></i>
                                    <i class="i i-expand-black"></i>
                                </span>
                            </a>

                            <div class="gallery2__figcaption">
                                <p class="gallery2__caption">@Html(image.caption.getOrElse(""))</p>
                                <p class="gallery2__credit">@image.credit</p>
                            </div>
                        </figure>
                    }
                </div>

                <div class="social-wrapper" data-component="share">
                    @fragments.social(gallery, iconModifier = "white")
                </div>
            </div>
        </div>
    </article>
    @fragments.contentFooter(gallery, related, "media")
</div>