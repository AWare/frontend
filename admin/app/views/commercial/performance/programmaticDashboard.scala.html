@()(implicit request: RequestHeader)

@import controllers.admin.routes.{UncachedAssets, UncachedWebAssets}

@admin_main("Programmatic advert performance", "Prod", isAuthed = true, loadJquery = false) {

    <script src="@UncachedWebAssets.at("lib/jquery/jquery.min.js")"></script>
    <script src="@UncachedWebAssets.at("lib/d3/d3.min.js")"></script>
    <script src="@UncachedWebAssets.at("lib/epoch-charting/dist/js/epoch.js")"></script>
    <link rel="stylesheet" type="text/css" href="@UncachedWebAssets.at("lib/epoch-charting/dist/css/epoch.min.css")">
    <link rel="stylesheet" type="text/css" href="@UncachedAssets.at("css/commercial-programmatic-performance.css")">

    <header>
        <h1 class="page-header">Programmatic advert performance</h1>

        <div class="container-fluid">This data is collected from user browsers live. These performance timings compare the various programmatic advert delivery methods against our baseline, the traditional 'waterfall' approach.</div>
    </header>

    <div class="container-fluid">
        <h4>Time taken to execute the Commercial javascript application</h4>

        <div class="row">
            <div class="col-md-12">This is the time between the commercial system starting and completing (known as the commercial bootstrap).</div>
        </div>

        <div class="row graph graph--commercial-app-duration">
            <div class="col-md-2">
                <div class="graph__legend">
                    <div class="graph__legend__label">Fastest execution:</div>
                    <ol>
                        <li>
                            <span class="legend__label--prebid">
                                <b>— prebid</b>
                                <span class="average--prebid"></span>
                            </span>
                        </li>
                        <li>
                            <span class="legend__label--waterfall">
                                <b>— waterfall</b>
                                <span class="average--waterfall"></span>
                            </span>
                        </li>
                        <li>
                            <span class="legend__label--sonobi">
                                <b>— sonobi</b>
                                <span class="average--sonobi"></span>
                            </span>
                        </li>
                    </ol>
                </div>
                <div class="graph__y-axis">Time (ms)</div>
            </div>
            <div class="col-md-10">
                <div id="programmatic-live-performance-data" class="epoch category10"></div>
            </div>
        </div>
    </div>
}