@(maybeTestResult: Option[controllers.cache.PrePurgeTestResult] = None, message: String = "")(implicit request: RequestHeader)

@admin_main("Purge Cache", "PROD", isAuthed = true) {

    <h1>Purge Cache</h1>

    <h3>Warnings:</h3>
    <ul>
        <li>This tool performs a <strong><i>hard</i></strong> purge of the cached content on www.theguardian.com. This will <strong>immediately stop the cached content from being served</strong> to visitors to the site.</li>
        <li>If the backend service that provides the content is not healthy, <strong>errors will immediately be served to all visitors trying to reach the content.</strong></li>
        <li>If you are trying to resolve an issue and have not already done so, please use the <a href="@controllers.admin.routes.TroubleshooterController.index()">Troubleshoot Tool</a></li>
        <li>If the initial test below is unsuccessful, continuing with the purge should only be done in the case of takedowns.</li>
    </ul>

    <h3>Usage:</h3>
    <div>
        <p>
            Paste the url of the page (content) you want to clear below. Include the entire url.
            <code>
                http://www.theguardian.com/artanddesign/2015/nov/17/12-designs-that-revolutionised-cycling-fold-up-helmets-and-sandwich-bikes
            </code>
        </p>
        <p>
            Only works on <code>www.theguardian.com</code>
        </p>
    </div>
    <hr/>

    @fragments.pageDecacheForm(maybeTestResult)

    @if(!message.isEmpty) { <p class="bg-info purge-message">@message</p> }
}
