#!/bin/bash

# SBT configuration
export SBT_BOOT_DIR=${HOME}/.sbt/boot/

if [ ! -d "${SBT_BOOT_DIR}" ]; then
  mkdir -p ${SBT_BOOT_DIR}
fi

if [ -f "~/.sbtconfig" ]; then
  . ~/.sbtconfig
fi

PROXY_PARAMS="-Dhttp.proxyHost=devscreen.gudev.gnl -Dhttp.proxyPort=3128"
if [ "$1" == "--no-proxy" ]; then
  PROXY_PARAMS=""
  shift
fi

java -Xmx768M -XX:MaxPermSize=384m \
	-Dhttp.proxyHost=$PROXY_PARAMS \
	-Dsbt.boot.directory=$SBT_BOOT_DIR \
	-jar `dirname $0`/dev/sbt-launch-0.11.2.jar "$@"
