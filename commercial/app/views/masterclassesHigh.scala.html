@(events: Seq[model.commercial.masterclasses.MasterClass])(implicit request: RequestHeader)

@import conf.Configuration

@defining(("1_0", "2014-05-23", "high")) { case (version, date, relevance) =>
    <div class="commercial commercial--high commercial--masterclasses" data-component="commercial-masterclasses-high">
        <div class="facia-container__inner--commercial">

            <div class="container__header">
                <div class="container__header__inner">
                    <h3 class="commercial__title">
                        <a href="@AdLink{@Configuration.commercial.masterclasses_url}" data-link-name="merchandising-masterclasses-v@{version}_@{date}-@{relevance}-logo">
                            <i class="i i-marque-36"></i><i class="i i-guardian-logo-96-white"></i><i class="i i-masterclasses-logo i-commercial-brand"></i>
                            <span class="u-h">The Guardian</span> <span class="u-h">Masterclasses</span>
                        </a>
                    </h3>
                    <p class="commercial__desc">Courses from the Guardian</p>
                    <a class="commercial__cta button button--tertiary button--large" href="@AdLink{@Configuration.commercial.masterclasses_url/masterclasses-calendar}" data-link-name="merchandising-masterclasses-v@{version}_@{date}-@{relevance}-profile-browse-all-masterclasses">
                        <i class="i i-arrow-white-right i-right"></i>
                        <span class="hide-on-mobile">View all Masterclasses</span>
                    </a>
                </div>
            </div>

            <div class="container__body">
                <div class="commercial__relevance commercial__relevance-high u-cf">
                    <div class="highitem">
                        <h4 class="commercial__header">Featured class</h4>
                        @events.take(1).map { event =>
                            <a class="lineitem__link commercial--masterclasses__class__link" href="@AdLink{@event.eventBriteEvent.guardianUrl}" data-link-name="merchandising-masterclasses-v@{version}_@{date}-@{relevance}-profile-@event.eventBriteEvent.name">
                                @event.mainPicture.map{ picture =>
                                @Item300.bestFor(picture).map{ url => <img src="@url" alt="" class="lineitem__image" />}
                                }
                            </a>
                        <div class="lineitem__offer">
                            <h4 class="lineitem__title">@event.eventBriteEvent.name</h4>
                            <p class="commercial--masterclasses__class__date">@event.eventBriteEvent.readableDate</p>
                            <a class="lineitem__link commercial--masterclasses__class__link__sub" href="@AdLink{@event.eventBriteEvent.guardianUrl}" data-link-name="merchandising-masterclasses-v@{version}_@{date}-@{relevance}-profile-@event.eventBriteEvent.name">
                                <p class="commercial--masterclasses__class__meta">@event.eventBriteEvent.venue.description | @event.eventBriteEvent.displayPrice</p>
                            </a>
                            <a class="lineitem__link button button--primary button--small" href="@AdLink{@event.eventBriteEvent.guardianUrl}" data-link-name="merchandising-masterclasses-v@{version}_@{date}-@{relevance}-profile-@event.eventBriteEvent.name">
                                Book now<i class="i i-arrow-white-right i-right"></i>
                            </a>
                        </div>
                        }
                    </div>
                </div>
                <div class="commercial__relevance commercial__relevance-low u-cf">
                    <h4 class="commercial__header commercial__relevance-title-low">You also might like</h4>
                    <ul class="lineitems">
                    @events.drop(1).take(2).map { event =>
                        <li class="lineitem commercial--masterclasses__class">
                            <a class="lineitem__link commercial--masterclasses__class__link" href="@AdLink{@event.eventBriteEvent.guardianUrl}" data-link-name="merchandising-masterclasses-v@{version}_@{date}-@{relevance}-profile-@event.eventBriteEvent.name">
                                @event.mainPicture.map{ picture =>
                                    @Item300.bestFor(picture).map{ url => <img src="@url" alt="" class="lineitem__image" /> }
                                }
                                <h4 class="lineitem__title">@event.eventBriteEvent.name</h4>
                                <p class="commercial--masterclasses__class__date">@event.eventBriteEvent.readableDate</p>
                            </a>
                            <a class="lineitem__link commercial--masterclasses__class__link__sub" href="@AdLink{@event.eventBriteEvent.guardianUrl}" data-link-name="merchandising-masterclasses-v@{version}_@{date}-@{relevance}-profile-@event.eventBriteEvent.name">
                                <p class="commercial--masterclasses__class__meta">@event.eventBriteEvent.venue.description | @event.eventBriteEvent.displayPrice</p>
                            </a>
                            <a class="lineitem__link button button--primary button--small" href="@AdLink{@event.eventBriteEvent.guardianUrl}" data-link-name="merchandising-masterclasses-v@{version}_@{date}-@{relevance}-profile-@event.eventBriteEvent.name">
                                Book now<i class="i i-arrow-white-right i-right"></i>
                            </a>
                        </li>
                    }
                    </ul>
                </div>
            </div>
        </div>
    </div>
}

