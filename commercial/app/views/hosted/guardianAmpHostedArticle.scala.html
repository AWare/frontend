@import common.commercial.hosted.HostedArticlePage
@(page: HostedArticlePage)(implicit request: RequestHeader)
@import common.commercial.hosted.hardcoded.Support.makeshiftPage
@import views.html.hosted._

<!doctype html>
<html AMP>
    <head>
        @* "utf-8" meta tag needs to be first according to AMP spec *@
        <meta charset="utf-8">
        <meta name="amp-3p-iframe-src" content="https://www.theguardian.com/amp/remote.html">
        @fragments.metaData(page, amp = true)
        <title>@views.support.Title(page)</title>
        @fragments.amp.stylesheets.main(page.metadata)
        <script custom-element="amp-font" src="https://cdn.ampproject.org/v0/amp-font-0.1.js" async></script>
        <script custom-element="amp-twitter" src="https://cdn.ampproject.org/v0/amp-twitter-0.1.js" async></script>
        <script custom-element="amp-youtube" src="https://cdn.ampproject.org/v0/amp-youtube-0.1.js" async></script>
        <script custom-element="amp-list" src="https://cdn.ampproject.org/v0/amp-list-0.1.js" async ></script>
        @* Required for outbrain served in an amp-iframe *@
        <script custom-element="amp-iframe" src="https://cdn.ampproject.org/v0/amp-iframe-0.1.js" async></script>
        <script custom-element="amp-analytics" src="https://cdn.ampproject.org/v0/amp-analytics-0.1.js" async></script>
        <script src="https://cdn.ampproject.org/v0.js" async></script>
    </head>
    <body>
        <div class="main-body">

            @guardianHostedHeader(if(page.campaign.fontColour.shouldHaveBrightFont) "hosted-article-page hosted-page--bright" else "hosted-article-page", page)
            <div class="hosted-page l-side-margins hosted__side hosted-article-page @if(page.campaign.fontColour.shouldHaveBrightFont) {hosted-page--bright}">

                <article id="article" data-test-id="article-root" class="content content--article has-feature-showcase-element section-stage content--advertisement-feature" role="main">
                    <div class="media-primary media-content media-primary--showcase" style="background-image: url(@{page.mainPicture});">
                        <div class="gs-container">
                            <h2 class="title content__main-column">@{page.title}</h2>
                        </div>
                        <span class="caption hosted-tone">@{page.mainPictureCaption}</span>
                    </div>
                    <div class="content__main">
                        <div class="gs-container">
                            <div class="content__main-column content__main-column--article js-content-main-column">
                                <div class="content__meta-container js-content-meta js-football-meta u-cf content__meta-container--showcase">
                                    <div class="meta__extras" data-component="share">
                                    @guardianHostedShareButtons(page)
                                    </div>
                                </div>

                                <div class="content__article-body from-content-api js-article__body">
                                    <p class="intro">@Html(page.standfirst)</p>

                                    @page.pageName match {
                                        case "meet-the-characters-of-zootropolis" => { @zootropolisPage(page) }
                                        case "overview" => { @singaporeF1Overview() }
                                        case "offtrack" => { @singaporeF1Offtrack() }
                                        case "packages" => { @singaporeF1Packages() }
                                        case _ => { @Html(page.body) }
                                    }

                                </div>
                                <div class="hide-on-desktop">
                                @if(page.nextPages.nonEmpty) {
                                    @hostedOnwardJourney(page.nextPages.map { nextPage =>
                                        makeshiftPage(nextPage, page.campaign)
                                    }, 2, 4)
                                } else {
                                    <div class="js-onward-placeholder"></div>
                                }
                                </div>
                                <div class="hosted__standfirst">
                                    <div class="hosted__terms">â€‹Hosted content is used to describe content that is paid for and supplied by the advertiser. Find out more with our
                                        <div class="paidfor-label paidfor-meta__more has-popup hosted__link">
                                            <button class="u-button-reset paidfor-label__btn hosted__label-btn--small popup__toggle hosted__label-btn js-hosted-about hosted-tone" data-link-name="terms-and-conditions-text-link">commercial content explainer.</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="content__secondary-column">
                            @if(page.nextPages.nonEmpty) {
                                @hostedOnwardJourney(page.nextPages.map { nextPage =>
                                    makeshiftPage(nextPage, page.campaign)
                                }, 2, 4)
                            } else {
                                <div class="js-onward-placeholder"></div>
                            }
                            </div>
                        </div>
                    </div>
                </article>

                @guardianHostedCta(page, page.cta)
                @guardianHostedOnwardOverlay(page)

        </div>
    </body>
</html>
