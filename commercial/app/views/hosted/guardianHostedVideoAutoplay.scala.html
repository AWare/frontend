@import common.commercial.hosted.HostedPage
@import common.commercial.hosted.HostedVideoPage
@(trails: Seq[HostedPage], defaultRows: Int, maxRows: Int)(implicit request: RequestHeader)

@trails.flatMap({
    case page: HostedVideoPage => Some(page)
    case _ => None
}).headOption.map(page => {
    <div class="hosted-next-autoplay js-hosted-next-autoplay" data-link-name="Next video autoplay">
        <div class="hosted-next-autoplay__cancel">
            <button class="site-message__close-btn js-autoplay-cancel" data-link-name="Cancel autoplay of the next video">
                <span>Hide</span>
            </button>
        </div>
        <div class="hosted-next-autoplay__next-in-series">
            <div class="hosted-next-autoplay__subheader">@{page.cta.label}</div>
            <a href="@{page.cta.url}" rel="nofollow" class="hosted-next-autoplay__tile hosted-tone-btn" data-link-name="@{page.campaign.name}" target="_blank">
                @{if(page.cta.btnText.isDefined) page.cta.btnText else s"Visit ${page.campaign.owner} now"}@fragments.inlineSvg("arrow-right", "icon", List(""))
            </a>
        </div>
        <div class="hosted-next-autoplay__video">
            <div class="hosted-next-autoplay__header">
                <div class="hosted-next-autoplay__continue hosted-tone">Continue watching</div>
                <h2 class="hosted-next-autoplay__subheader">@{page.title}</h2>
            </div>
            <a href="@{page.url}" class="hosted-next-autoplay__poster" data-link-name="Next Hosted Video Autoplay: @{page.title}">
                <img class="hosted-next-autoplay__poster-img" src="@{page.imageUrl}"/>
                <div class="hosted-next-autoplay__poster-timer hosted-tone-btn js-autoplay-timer" data-next-page="@{page.url}">10s</div>
            </a>
            <a href="@{page.url}" class="hosted__next-video--mobile" data-link-name="Next Hosted Video @{page.title}" target="_blank">
                Watch now
            </a>
        </div>
    </div>
}).getOrElse({<div></div>})
