@(content: model.Content, showBadge: Boolean = true)(implicit request: RequestHeader)
@import conf.Switches._

@byline(content: model.Content) = {
    @content match {
        case v: Video   => { @fragments.meta.byline(v.bylineWithSource, v) }
        case c          => { @fragments.meta.byline(c.byline, c) }
    }
}

@metaBody() = {
    <div class="meta__author
    @if(((content.hasTonalHeaderByline && content.contributorBio.isEmpty && content.contributors.headOption.map(_.twitterHandle) == Some(None)) || content.byline.isEmpty) && !content.isVideo) { u-h }
    @if(content.showBylinePic) { meta__author--has-byline-image }
    @if(content.hasTonalHeaderByline) { meta__author--comment }
    @if(content.contributors.headOption.map(_.twitterHandle) != Some(None)) { has-twitter }">

        @if(!content.hasTonalHeaderByline) {
            @byline(content)
        }

        @if(content.contributors.length < 2) {
            @if(!content.contributorBio.isEmpty) { <p class="meta__bio">@content.contributorBio</p> }
            @if(content.hasTonalHeaderByline && content.contributors.headOption.map(_.twitterHandle) != Some(None)) { <p class="meta__contact-header hide-until-leftcol">Contact author</p> }
            @fragments.meta.twitterHandle(content)
        }
    </div>
    @if(!content.shouldHidePublicationDate) {
        @fragments.meta.dateline(content.webPublicationDate, secondary = true)
    }

    @if(content.contributors.length == 1) {
        @fragments.meta.twitterHandle(content, secondary = true)
    }

    <div class="meta__extras">
        <div class="meta__social" data-component="share">
            @fragments.social(content, "top")
        </div>
        <div class="meta__numbers modern-visible">
            <div class="u-h meta__number js-sharecount">
            </div>
            <div class="u-h meta__number" data-discussion-id="@content.discussionId" data-commentcount-format="content" data-discussion-closed="@{!content.isCommentable}">
            </div>
        </div>
    </div>
}

<div class="content__meta-container js-football-meta u-cf
    @if(content.byline.isEmpty){ content__meta-container--no-byline}
    @if(content.hasShowcaseMainPicture){ content__meta-container--showcase}
    @if(!content.hasMainPicture && !content.hasMainVideo && !content.hasMainAudio && !content.hasMainEmbed){ content__meta-container--float}">

    @if(showBadge) {
        @fragments.commercial.badge(content)
    }

    @if(content.showBylinePic) {
        <div class="media__body meta__body">
            <div class="media__img meta__image">
                @fragments.meta.bylineImage(content)
            </div>
            @metaBody()
        </div>
    } else {
        @metaBody()
    }
</div>
