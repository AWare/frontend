@import layout.ColumnAndCards
@(containerType: slices.CommercialContainerType, container: layout.FaciaContainer, frontProperties: model.FrontProperties)(implicit request: RequestHeader)

    @import layout.ContentCard
    @import slices.{MultiCampaign, SingleCampaign}
    @import views.html.fragments.containers.facia_cards.{slice, standardContainer}
    @import views.html.fragments.items.facia_cards.contentCard
    @*
    TODO: tracking data
    TODO: breakpoints
    TODO: switch
    TODO: content types
    *@
    @containerType match {

    case SingleCampaign(_) => {
        @for( layout <- container.containerLayout) {
            <div class="fc-container fc-container--commercial" data-title="@container.displayName" data-id="@container.dataId">
                <div class="ad-slot ad-slot--dfp ad-slot--merchandising ad-slot--commercial-component">
                    <div class="commercial commercial--paidfor commercial--tone-paidfor">
                        <div class="commercial__inner">

                            <div class="commercial__header">
                                <div class="paidfor-meta">
                                    <span class="paidfor-meta__label">Paid Content</span>
                                    <div class="paidfor-label paidfor-meta__more has-popup">
                                        <button class="u-button-reset paidfor-label__btn popup__toggle" data-toggle="paidfor-popup--test3">About @fragments.inlineSvg("arrow-down", "icon")</button>
                                        <div class="popup is-off paidfor-popup paidfor-popup--test3">
                                            <h3 class="paidfor-popup__title">Paid stories are paid for and controlled by an advertiser</h3>
                                            <a class="paidfor-popup__link" href="#">Learn more about the Guardian's funding from outside parties @fragments.inlineSvg("arrow-right", "icon")</a>
                                        </div>
                                    </div>
                                </div>
                                <h3 class="commercial__title">Lorem ipsum dolor sit amet, consectetur adipiscing elit</h3>
                                <a class="commercial__cta" href="http://www.theguardian.com/guardian-labs">@fragments.inlineSvg("glabs-logo", "logo")</a>
                            </div>

                            <div class="commercial__body">
                                <ul class="lineitems">

                                    @for(slice <- layout.slices) {
                                        @for(ColumnAndCards(_, cards) <- slice.columns) {

                                                    <li class="lineitem">
                                                        @for(cardAndIndex <- cards) {
                                                            @cardAndIndex.item match {
                                                                case card: ContentCard => {
                                                                    @contentCard(card, container.index, cardAndIndex.index, cardAndIndex.visibilityDataAttribute, container.index == 0, isList = true)
                                                                }
                                                                case _ => {}
                                                            }
                                                    }
                                                    </li>

                                        }
                                    }

                                </ul>
                                <aside class="commercial__meta">Paid for by <img src="ben-jerrys.png"></aside>

                            </div>

                        </div>
                    </div>
                </div>
            </div>
        }
    }

    case MultiCampaign(_) => {
        <!-- TODO implement a multi campaign -->
        @standardContainer(container, frontProperties)
    }
}
