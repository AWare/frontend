@(imageContainer: model.ImageContainer, inlineImage: Boolean = false, widthsByBreakpoint: Option[layout.WidthsByBreakpoint] = None)(implicit request: RequestHeader)

@import views.support.ImgSrc
@import views.support.RenderClasses

<div class="fc-item__media-wrapper">
    <div class="fc-item__image-container u-responsive-ratio @if(inlineImage){inlined-image}">
        @widthsByBreakpoint match {
            case Some(widths) => {
                <img class="@RenderClasses(Map("responsive-img" -> true, "js-lazy-loaded-image" -> !inlineImage))"
                     @if(inlineImage) {
                         srcset="@ImgSrc.srcset(imageContainer, widths.maxWidth)"
                         sizes="@widths.sizesString"
                         src="@ImgSrc.getFallbackUrl(imageContainer)"
                     } else {
                         data-srcset="@ImgSrc.srcset(imageContainer, widths.maxWidth)"
                         data-sizes="@widths.sizesString"
                         @* A tiny transparent gif *@
                         src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="
                     }
                >
            }

            case _ => {
                <img src="@ImgSrc.getFallbackUrl(imageContainer)">
            }
        }
    </div>
</div>
