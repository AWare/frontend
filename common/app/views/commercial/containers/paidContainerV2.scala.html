@(containerModel: common.commercial.ContainerModel)(implicit request: RequestHeader)

@import common.{Edition, LinkTo}
@import views.html.commercial.containerWrapper
@import views.html.commercial.containers._
@import views.html.fragments.inlineSvg

<div data-id="@containerModel.id" class="fc-container"
    @for(branding <- containerModel.branding){
        data-sponsorship="@branding.sponsorshipType"
        @for(sponsor <- branding.sponsor){ data-sponsor="@sponsor" }
        @for(keywordId <- branding.keywordId){ data-keywords="@keywordId" }
        @for(seriesId <- branding.seriesId){ data-series="@seriesId"}
    }
    >
    @containerWrapper(
        Seq("legacy", "capi", "tone-capi"),
        optKicker = Some(fragments.commercial.paidForMeta()),
        optStamp = Some(stamp),
        optBadge = Some(logoSlot)
    ){

        <a class="adverts__logo u-text-hyphenate" href="@containerModel.content.targetUrl">@containerModel.content.title</a>

    }{

        @containerModel.layoutName match {
            case "fixed/small/slow-I"            => { @fixedSmallSlowI(containerModel) }
            case "fixed/small/slow-III"          => { @fixedSmallSlowIII(containerModel) }
            case "fixed/small/slow-IV"           => { @fixedSmallSlowIV(containerModel) }
            case "fixed/small/slow-V-half"       => { @fixedSmallSlowVHalf(containerModel) }
            case "fixed/small/slow-V-third"      => { @fixedSmallSlowVThird(containerModel) }
            case "fixed/small/fast-VIII"         => { @fixedSmallFastVIII(containerModel) }
            case "fixed/medium/slow-VI"          => { @fixedMediumSlowVI(containerModel) }
            case "fixed/medium/slow-VII"         => { @fixedMediumSlowVII(containerModel) }
            case "fixed/medium/fast-XI"          => { @fixedMediumFastXI(containerModel) }
            case "fixed/medium/fast-XII"         => { @fixedMediumFastXII(containerModel) }
            case "fixed/large/slow-XIV"          => { @fixedLargeSlowXIV(containerModel) }
            case "dynamic/fast"                  => { @dynamicFast(containerModel) }
            case "dynamic/slow"                  => { @dynamicSlow(containerModel) }
            case "dynamic/package"               => { @dynamicPackage(containerModel) }
            case "commercial/multi-campaign"     => { @multiCampaign(containerModel) }
            case _ => {
                <p>@containerModel.layoutName</p>
            }
        }

        @if(containerModel.content.showMoreCards != Nil && containerModel.content.showMoreCards.length > 0){
            <details class="adverts__more">
                <summary class="button button--medium button--primary button--show-more">
                    @fragments.inlineSvg("plus", "icon")
                    @fragments.inlineSvg("minus", "icon")
                    More @containerModel.content.title
                </summary>
                @defining(Math.max(1, Math.floor(containerModel.content.showMoreCards.length / 3).toInt)) { length =>
                    <div class="adverts__row">
                        <div class="adverts__column">
                            @containerModel.content.showMoreCards.take(length).map(card => views.html.commercial.cards.itemSmallCard(card))
                        </div>
                        <div class="adverts__column">
                            @containerModel.content.showMoreCards.slice(length, length * 2).map(card => views.html.commercial.cards.itemSmallCard(card))
                        </div>
                        <div class="adverts__column">
                            @containerModel.content.showMoreCards.slice(length * 2, length * 3).map(card => views.html.commercial.cards.itemSmallCard(card))
                        </div>
                    </div>
                }
            </details>
        }
    }
</div>

@stamp = {

    <a @if(Edition(request).id == "AU") {
            href="@LinkTo("/guardian-labs-australia")"
        } else {
            href="@LinkTo("/guardian-labs")"
        }
        >
        @inlineSvg("glabs-logo", "logo")
        <span class='u-h'>Guardian Labs</span>
    </a>

}

@logoSlot = {<div class="js-badge-placeholder"></div>}


@*
    <h3>huge</h3>
    @for(card <- containerModel.content.dynamic.hugeCards) {
        <p><a href="@card.targetUrl">@Html(card.headline)</a></p>
    }

    <h3>very big</h3>
    @for(card <- containerModel.content.dynamic.veryBigCards) {
        <p><a href="@card.targetUrl">@Html(card.headline)</a></p>
    }

    <h3>big</h3>
    @for(card <- containerModel.content.dynamic.bigCards) {
        <p><a href="@card.targetUrl">@Html(card.headline)</a></p>
    }
*@
