@(block: Trailblock)(implicit request: RequestHeader)


@if(block.description.id == "") {
    @fragments.headline(block.description.name)
} else {
    <a data-link-name="heading link" href="/@block.description.id">@fragments.headline(block.description.name)</a>
}

<a class="initially-off js-toggle-trailblock" href="javascript://" data-zone-name="uk" data-block-name="@if(block.description.id == "") {top-stories} else {@block.description.id}" id="js-trigger-@if(block.description.id == "") {top-stories} else {@block.description.id}">Hide</a>

<div class="trailblock js-front-trailblock rolled-out"
    id="front-trailblock-@block.description.id"
    data-count="@{block.trails.length - block.description.numItemsVisible}"
    data-link-name="front block @block.description.name">


    <ul class="unstyled">
        @block.trails.zipWithRowInfo.map{ case (trail, info) =>
            <li>@formatTrail(trail, info, numberOfImagesToEnlarge=block.description.numLargeImages)</li>
        }.slice( 0, block.description.numItemsVisible )
    </ul>

    @if( block.trails.length > block.description.numItemsVisible) {
        <ul class="unstyled panel">
            @block.trails.zipWithRowInfo.map{ case (trail, info) =>
                <li>@formatTrail(trail, info, numberOfImagesToEnlarge=block.description.numLargeImages)</li>
            }.slice( block.description.numItemsVisible, block.trails.length )
        </ul>
    }

</div>