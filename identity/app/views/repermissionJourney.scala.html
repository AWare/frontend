@import conf.Static
@import views.support.RenderClasses
@import conf.switches.Switches.ProfileShowContributorTab
@import model.{ApplicationContext, EmailNewsletters, IdentityPage}
@import services.EmailPrefsData


@(
    page: model.Page,
    user: com.gu.identity.model.User,
    forms: controllers.ProfileForms,
    idRequest: services.IdentityRequest,
    idUrlBuilder: services.IdentityUrlBuilder,
    emailPrefsForm: Form[EmailPrefsData],
    emailSubscriptions: List[String],
    availableLists: EmailNewsletters
)(implicit request: RequestHeader, messages: play.api.i18n.Messages, context: model.ApplicationContext)

@mainLegacy(page, projectName = Option("identity")) { } {

    <div class="identity-wrapper-for-bg">
        <div class="gs-container">
            <div class="monocol-wrapper">

                <div class="u-cf identity-section identity-wrapper">

                    <div class="manage-account-wizard" >
                        <div class="manage-account-wizard__step">
                            <center>
                                <img width="100%" src="https://i.imgur.com/TqI7Ub8.png" />
                            </center>
                        </div>
                        <div class="manage-account-wizard__step">

                            <h2 class="manage-account-header">We need you to consent again to receiving communications from The Guardian</h2>
                            <p class="manage-account-headerNote">These are all the permissions you already consented to, please review them and check them again if you still want to receive them</p>
                            <div class="fieldset fieldset--manage-account-noborder fieldset--manage-account-block">
                                <div class="manage-account__switches">
                                    <ul>
                                    @helper.repeat(forms.privacyForm("consents"), min=1) { consentField =>
                                        <li>
                                            @fragments.consentCheckbox(consentField)(messages)
                                        </li>
                                    }
                                    </ul>
                                </div>
                            </div>

                            <p class="manage-account-headerNote">While you are here, you can also sign up for these ones:</p>
                            <div class="fieldset fieldset--manage-account-noborder fieldset--manage-account-block">
                                <div class="manage-account__switches">
                                    <ul>
                                    @helper.repeat(forms.privacyForm("consents"), min=1) { consentField =>
                                        <li>
                                            @fragments.consentCheckbox(consentField)(messages)
                                        </li>
                                    }
                                    </ul>
                                </div>
                            </div>

                        </div>
                        <div class="manage-account-wizard__step" style="display: block;">
                            3
                        </div>
                        <div class="manage-account-wizard__controls">
                            <div class="manage-account-wizard__controls-pager">3 / 3</div>
                            <a class="manage-account__button js-manage-account-wizard__next">Next</a>
                        </div>
                    </div>



                </div>
            </div>
        </div>
    </div>
}
