@(model: ArticlePage)(implicit request: RequestHeader)
@import conf.Switches._

@defining((model.article, model.storyPackage)) { case (article, storyPackage) =>
<article class="content content--article tone-@article.visualTone tone-@article.visualTone--article">
    @if(article.isFeature || article.isComment) {
        @fragments.headTonal(article)
    } else {
        @fragments.headDefault(article)
    }

    @fragments.witnessCallToAction(article)
    <div class="gs-container">
        <div class="content__main-column content__main-column--article">

            @fragments.mainMedia(article)

            @fragments.contentMeta(article)

            <div class="from-content-api js-article__body" itemprop="@if(article.isReview){reviewBody} else {articleBody}">
                @BodyCleaner(article, article.body)
            </div>

            <div class="content__keywords" data-link-name="article keywords">
                @fragments.keywordList(article.keywords)
            </div>

            <div class="social-wrapper" data-component="share">
                @fragments.social(article)
            </div>

        </div>

        <div class="content__secondary-column" aria-hidden="true">
            <div class="mpu-container js-mpu-ad-slot"></div>
            <div class="js-components-container"></div>
        </div>

    </div>
</article>

@if(DiscussionSwitch.isSwitchedOn && article.isCommentable) {
<div class="gs-container js-comments">
    <div class="content__main-column" data-component="discussion">
        @fragments.discussion(article.isClosedForComments, article.shortUrlId)
    </div>
</div>
}
<div class="facia-container facia-container--layout-article facia-container--commercial">
    @fragments.commercial.commercialComponent(name="merchandising-high", adType="commercial-component-high", sizeMapping=Map("desktop" -> Seq("888,87")))
</div>

@fragments.storyPackagePlaceholder(storyPackage)

@fragments.onwardPlaceholder(article.visualTone)

<div class="js-repositioned-comments"></div>

<div class="facia-container facia-container--layout-article">
    @fragments.mostPopularPlaceholder(article.section, article.visualTone)
</div>
<div class="facia-container facia-container--layout-article facia-container--commercial">
    @fragments.commercial.commercialComponent(name="merchandising", adType="commercial-component", sizeMapping=Map("mobile" -> Seq("888,88")))
</div>
}
