@import common.LinkTo
@import pa.LineUpPlayer
@import implicits.Football._
@import views.FootballHelpers._

@(page: football.controllers.MatchPage, competition: Option[model.Competition])(implicit request: RequestHeader, context: model.ApplicationContext)

@team(players: Seq[LineUpPlayer]) = {
    <ul class="team-list u-unstyled">
    @players.map{ player =>
        <li class="team-list__item">
            @player.name
            @player.events.map{ event =>
                @{ event.eventType match {
                    case "booking" => <i class="i i-card-yellow"></i>
                    case "dismissal" => <i class="i i-card-red"></i>
                    case "substitution" => "(s " + event.eventTime + "')"
                    case _ =>  ""
                }}
            }
        </li>
    }
    </ul>
}

@mainLegacy(page, Some("football")){
} {

<article class="content">
    <header class="content__head">
        <div class="gs-container">
            <div class="content__head__border--top"></div>
            <div class="content__main-column">

                <div class="content__section">
                    <a class="tone-colour" data-link-name="article section" href="@LinkTo {/football}">football</a>
                </div>

                <div class="content__head__border--headline"></div>

                @football.views.html.fragments.matchSummary(page.theMatch, competition, responsive = true)

                <div class="js-sport-tabs">
                    @* this 'Stats' header gets replaced by the match navigation tabs (if available) *@
                    @if(page.matchStarted && page.hasPaStats) {
                        <h3 class="section-divider">Stats</h3>
                    }
                </div>

            </div>
        </div>
    </header>

    <div class="gs-container">
        <div class="content__main-column">
            <div class="js-article__container u-cf">

                @if(page.theMatch.isLive) {
                    <div class="live-toolbar">
                        <div class="update update-live-matches update-match-stats" data-link-name="autoupdate"></div>
                    </div>
                }
                @if(page.theMatch.hasStarted && page.hasPaStats) {
                    <div class="match-stats">
                        @football.views.html.matchStats.matchStatsComponent(page)
                    </div>
                }

            </div>
        </div>
    </div>
</article>
<div class="facia-container facia-container--layout-content">
@fragments.mostPopularPlaceholder("sport")
</div>
}
