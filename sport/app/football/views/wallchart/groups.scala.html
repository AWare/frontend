@(competition: model.Competition, groupStage: _root_.football.model.Groups)(implicit request: RequestHeader)

<ul class="football-groups u-unstyled u-cf">
    @groupStage.groupTables.map{ case (round, leagueTableEntries) =>
        @defining(groupStage.matchesList(competition, round)) { matches =>
            <li class="football-group">
                <div class="football-group__container table--hide-from-importance-3">
                    @football.views.html.tablesList.tableView(competition, model.Group(round, leagueTableEntries),
                        striped = true,
                        heading = round.name
                    )

                    <div class="football-group__fixtures">
                        @matches.matchesGroupedByDateAndCompetition.zipWithRowInfo.map { case ((date, competitionMatches), info) =>
                            @competitionMatches.map { case (competition, matches) =>
                                @football.views.html.matchList.matchesList(matches, competition, date,
                                    linkToCompetition = false,
                                    heading = if(info.isFirst) Option("Fixtures and results") else None
                                )
                            }
                        }
                    </div>
                </div>
            </li>
        }
    }
</ul>
