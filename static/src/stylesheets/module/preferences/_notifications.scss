$breaking-news-icon-width: 36px;
$breaking-news-close-icon-width: 32px;
$notifications-button-height: 28px;
$popup-anchor-arrow-size: 16px;
$popup-top: $headerHeight + $gs-baseline/2 + 3;

@mixin notifcations-button-style($foreground: $neutral-2, $background: #ffffff) {
    .notifications__button {
        color: $foreground;
        border-color: $foreground;
        border-style: solid;

        .inline-icon {
            fill: $foreground
        }
    }

    .notifications__button--subscribed {
        color: $background;
        background-color: $foreground;
        .inline-icon {
            fill: $background;
            background-color: $foreground;
        }
        &:hover {
            background-color: darken($foreground, 10%);
        }
    }

    .notifications__button--unsubscribed {
        color: $foreground;
        background-color: transparent;
        .inline-icon {
            fill: $foreground;
            background-color: $background;
        }
        &:hover {
            background-color: darken($background, 10%);
        }
    }

}

@mixin notifications-button-toned($tone, $foreground: $news-main-1, $background: #ffffff) {
    .tonal--tone-#{$tone} {
        @include notifcations-button-style($foreground, $background);
    }
}

.live-notifications {
    margin-bottom: $gs-baseline /2;
    position: relative;
}

.notifications__button {

    .inline-icon {
        svg {
            width: 1.143em;
            height: .857em;
        }
    }
}

.notifcations-follow-input--solo {

    .submit-input__icon {
        display: inline-block;
        margin-right: $gs-gutter / 4;
    }
}

.live-notifications__label {
    display: none;
}

@each $state in (subscribed, unsubscribed) {
    .notifications__button--#{$state} {
        .live-notifications__label--#{$state} {
            display: inline;
        }
    }
}



@include notifcations-button-style();
@include notifications-button-toned(live, $live-default, $neutral-8);
@include notifications-button-toned(dead, $live-default, $neutral-8);

.live-notifications-denied {
    position: fixed;
    display: block;
    top: 0.625rem;
    left: 5.275rem;
    width: 26.825rem;
    height: 4.7625rem;
    background: fade-out($live-default, 1 - .95);
    transition: background-color .25s ease;
    filter:alpha(opacify=50);
    -moz-opacity: 0.5;
    -khtml-opacity: 0.5;
    z-index: 15000;
    color: $neutral-8;

    .button {
        padding: 0;
        width: $breaking-news-close-icon-width;
        height: $breaking-news-close-icon-width;
        border-color: #ffffff;

        @include mq(tablet) {
            border-color: colour(live-mute);
        }

        &:hover {
            border-color: #ffffff;
        }
    }
}

.live-notifications-denied::after {
    content: '';
    display: inline-block;
    width: 0;
    height: 0;
    border-top: 0;
    position: absolute;
    left: 3%;
    border-left: 10px solid transparent;
    border-right: 10px solid transparent;
    border-bottom: 10px solid $live-default;
    top: -0.6225rem;
}

.notifications-explainer {

    margin-top: ($gs-baseline / 3) * 4;
    margin-bottom: $gs-baseline;
    background: $live-default;
    color: $neutral-8;
    display: block;

    .button {
        padding: 0;
        width: $breaking-news-close-icon-width;
        height: $breaking-news-close-icon-width;
        border-color: #ffffff;

        @include mq(tablet) {
            border-color: colour(live-mute);
        }

        &:hover {
            border-color: #ffffff;
        }
    }

}

.notifications-explainer::after {
    content: '';
    display: inline-block;
    width: 0;
    height: 0;
    border-top: 0;
    position: absolute;
    left: 5%;
    border-left: 10px solid transparent;
    border-right: 10px solid transparent;
    border-bottom: 10px solid $live-default;
    top: 2.700rem;
}



.live-notifications-denied__content,
.notifications-explainer__content {
    position: relative;
    box-sizing: border-box;
    padding: $gs-baseline 0 ($gs-baseline/3)*2 $gs-gutter;
}

.live-notifications-denied__header,
.notifications-explainer__header {
    position: relative;
    padding-right: gs-span(1) + $gs-gutter * .5;

    .inline-marque-36 {
        position: absolute;
        left: 0 - $breaking-news-icon-width - $gs-gutter / 2;
        top: 0;
    }
}

.live-notifications-denied__header {
    @include fs-textSans(3);;
}

.notifications-explainer__header-blurb {
    @include fs-textSans(3);
    margin-top: $gs-baseline /2;
}

.notifications-explainer__headline {
    @include fs_headline(2);
    color: #ffffff;
    font-weight: 500;
    position: relative;
    display: block;
}


.live-notifications-denied__item-options,
.notifications-explainer__item-options {
    position: absolute;
    right: 0;
}

.live-notifications-denied__item-options {
    top: $gs-baseline / 2;
}

.notifications-explainer__item-options {
    top: $gs-baseline;
}




